<!DOCTYPE html>
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>─=≡Σ((( つ•̀ω•́)つ</title>
<link rel="shortcut icon" href="https://github.githubassets.com/favicons/favicon.svg">
<style>
body {
font-family: Arial, sans-serif;
width: 98%;
margin: 0 auto;
}

h1 {
  text-align: center;
  margin-top: 20px;
}

#textarea {
  width: 63%;
  height: 355px;
  margin-top: 20px;
  font-size: 16px;
  padding: 10px;
  border: 2px solid #ddd;
  border-radius: 5px;
}
#textarea2 {
  width: 35%;
  height: 360px;
  margin-top: 20px;
  font-size: 16px;
  padding: 10px;
  border: 2px solid #ddd;
  border-radius: 5px;
}
  
#stats {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  font-size: 10px;
  padding: 10px;
  background-color: #eee;
  border-radius: 5px;
}

#stats div {
  margin-right: 20px;
}

#stats div:last-child {
  margin-right: 0;
}

#stats div span {
  font-weight: bold;
  font-size: 24px;
  display: block;
  margin-top: 5px;
}

    .input-group {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .input-group input {
      margin-right: 10px;
      padding: 8px 16px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .input-group button {
      font-size: 12px;
      padding: 8px 16px;
      border: none;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s;
      background-color: #28a745;
      margin-right: 10px; /* 添加按钮之间的右边距 */
    }

    .input-group button:active {
      background-color: #2C6F33;
	  
    }

  <style>
    div {
}
    /* 搜索功能样式 */
    .search-container {
      margin-top: 20px;
    }

    input[type="text"] {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      outline: none;
      font-size: 16px;
      width: 860px;
    }

    button {
      padding: 8px 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background-color: #45a049;
    }

    select {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      outline: none;
      font-size: 16px;
      background-color: #fff;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      cursor: pointer;
    }

    select:hover {
      border-color: #999;
    }

    select:focus {
      border-color: #555;
    }

    select::after {
      content: "\25BC";
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      color: #555;
      pointer-events: none;
    }

    /* 语音输入样式 */
    #inputField {
      width: 300px;
      height: 40px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .button {
      display: inline-block;
      padding: 10px 10px;
      font-size: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f1f1f1;
      color: #333;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .button:hover {
      background-color: #ccc;
      color: #fff;
    }

    .button:disabled {
      background-color: #e0e0e0;
      color: #999;
      cursor: not-allowed;
    }
  </style>

<script>
// 根据用户选择的搜索引擎和输入的关键词跳转
function searchRedirect(event) {
  if (event.key === "Enter") {  // 监听回车键
    const searchEngine = document.getElementById("searchEngine").value;  // 获取选择的搜索引擎 URL
    const keyword = document.getElementById("searchInput").value.trim();  // 获取输入的关键词

    if (searchEngine && keyword) {  // 确保选择了搜索引擎并输入了关键词
      // 如果选择的是 CSDN 搜索，使用指定的 URL 格式
      if (searchEngine === "https://so.csdn.net/so/search?q=") {
        const csdnURL = `https://so.csdn.net/so/search?q=${encodeURIComponent(keyword)}&t=blog&u=feeday`;
        window.open(csdnURL, '_blank');  // 在新标签页打开 CSDN 搜索页面
      } else {
        const searchURL = `${searchEngine}${encodeURIComponent(keyword)}`;  // 拼接其他搜索引擎 URL
        window.open(searchURL, '_blank');  // 在新标签页打开搜索结果页面
      }
    } else {
      alert("请选择搜索引擎并输入关键词！");
    }
  }
}
</script>


</head>
<body>


<div style="display: flex; width: 100%; padding: 10px; box-sizing: border-box;">
<textarea id="textarea" placeholder="非数字：[^0-9]*
n位的数字：\d{n}
至少n位的数字：\d{n,}
匹配多行文本中每行的最后的两个字符:.{2}(?=\n|$)
匹配多行文本中每行的开始的两个字符:(?&lt;=^|\n).{2}
中文字符的正则表达式：[\u4e00-\u9fa5]
英文和数字：[A-Za-z0-9]+ 或 [A-Za-z0-9]{4,40}
长度为3-20的所有字符：.{3,20}
由数字和26个英文字母组成的字符串：[A-Za-z0-9]+
由数字、26个英文字母或者下划线组成的字符串：\w+ 或 \w{3,20}

curl https://datxy.com/sh/puck.sh -O
curl.exe -o NUL http://speedtest.tele2.net/10GB.zip
curl -s -o ~/x https://raw.githubusercontent.com/olegos2/mobox/main/install && . ~/x
curl -sSL https://dokploy.com/install.sh | sudo sh

sudo passwd root

conda create -n python38 python=3.8 # 创建虚拟环境
conda activate python38  # 切换虚拟环境
conda remove -n python38 --all # 删除虚拟环境
	
conda create -n python38 --clone old_python38 # 克隆虚拟环境
conda list # 列出已安装的包
conda env list # 列出所有虚拟环境
	
Get-ChildItem -Recurse -File | Select-String -Pattern # 双引号 Windows 搜索
	
tracert	baidu.cn
grep -rn 'py' /home/
rm -rf /*"></textarea>
    <div style="flex: 3; display: flex; justify-content: center; align-items: center; width: 20%;">
        <iframe id="iframe" scrolling="no" src="../page/btv.html" style="width: 100%; height: 395px; border: none;"></iframe>
    </div>
</div>

  
  
  <div class="search-container">	<div class="input-group">
   <select id="searchEngine" style="margin: 0 10px;">
    <option value="https://so.csdn.net/so/search?q=">csdn.net</option>
    <option value="https://s.weibo.com/weibo?q=">weibo.com</option>
    <option value="https://github.com/search?q=">github.com</option>
    <option value="https://www.google.com/search?q=">google.com</option>
    <option value="https://www.youtube.com/results?search_query=">youtube.com</option>   
    <option value="https://huggingface.co/spaces?sort=likes&search=">huggingface.co</option>
    <option value="https://www.baidu.com/s?q2=" selected="selected">www.baidu.com</option>
    <option value="https://tieba.baidu.com/f/search/res?ie=utf-8&amp;qw=">tieba.baidu.com</option>
    <option value="https://search.bilibili.com/all?keyword=">www.bilibili.com</option>
    <option value="https://www.tiktok.com/search?q=" >www.tiktok.com</option> 
    <option value="https://www.douyin.com/search/" >www.douyin.com</option>
  </select>
  <input  style="width: 40%;" type="text" id="searchInput" placeholder="www.baidu.com" onfocus="this.placeholder = 'www.baidu.com';" onkeydown="searchRedirect(event)">
 
  <div style="height: 10px;"></div>

	  
<input id="search-input" style="width: 30%;" placeholder="输入要查找的文本" value='https?:\/\/[^\s/$.?#]+[^\s]*?(?=")'>
<input id="replace-input" style="width: 30%;" placeholder="输入要替换的文本">
<input type="text" class="form-control mx-3" id="api_key" name="api_key" style="display:none;" style="width: 41%;" placeholder="sk-vrfZIb32CIpkS5BnBd6a301240424781936d3b8a42708f54">
</div>
  </div>
	


	
<div class="input-group" style="margin: 0 5px;">
<button class="button" id="remove-duplicates-btn" style="background-color: #007bff; color: white;">去重</button>
<button class="button" id="replace-btn" style="background-color: #007bff; color: white;">替换</button>
<button class="button" id="preserve-matches-btn" style="background-color: #A52A2A; color: white;">保留</button>
<button class="button" id="regex-replace-btn" style="background-color: #A52A2A; color: white;">正则</button>
<button class="button" id="copy-btn" style="background-color: #FFA500; color: white;">复制</button>
<button class="button" id="paste-btn" style="background-color: #FF4500; color: white;">粘贴</button>
<button class="button" id="clear-btn" style="background-color: red; color: white;">清空</button>
<button onclick="formatAndPreview()"  style="background-color: #511a1a; color: white;">网页</button>
<button class="button" style="background-color: purple; color: white;"  id="openkey-btn" data-api-url="https://openkey.cloud/v1/chat/completions">测试</button>
<a href="https://openkey.cloud/register?aff=OPENK"target="_blank" ><button class="button">代理密钥</button></a>
<a href="https://platform.deepseek.com/usage"target="_blank" ><button class="button">深度密钥</button></a>
<a href="https://huggingface.co/spaces?sort=likes"target="_blank" ><button class="button">抱脸空间</button></a>
<a href="https://modelscope.cn/datasets"target="_blank" ><button class="button">魔搭数据</button></a>  

</div>
<div id="stats">
<div id="total">总数：0</div>
<div id="chinese">汉字：0</div>
<div id="punctuation">标点：0</div>
<div id="alphabet">字母：0</div>
<div id="numbers">数字：0</div>
<div id="duplicate">重复：0</div>
<div id="replace-count">替换：0</div>
<div id="regex-replace-count">正则：0</div>
</div>
<script>
const textarea = document.getElementById("textarea");
const searchInput = document.getElementById("search-input");
const replaceInput = document.getElementById("replace-input");
const replaceBtn = document.getElementById("replace-btn");
const regexReplaceBtn = document.getElementById("regex-replace-btn");
const clearBtn = document.getElementById("clear-btn");
const removeDuplicatesBtn = document.getElementById("remove-duplicates-btn");
const totalEl = document.getElementById("total");
const chineseEl = document.getElementById("chinese");
const punctuationEl = document.getElementById("punctuation");
const alphabetEl = document.getElementById("alphabet");
const numbersEl = document.getElementById("numbers");
const duplicateEl = document.getElementById("duplicate");

const textarea2 = document.getElementById("textarea");
const copyBtn = document.getElementById("copy-btn");

textarea.addEventListener("input", updateStats);
clearBtn.addEventListener("click", clearTextarea);
removeDuplicatesBtn.addEventListener("click", removeDuplicates);
replaceBtn.addEventListener("click", replaceText);
regexReplaceBtn.addEventListener("click", replaceTextUsingRegex);

function updateStats() {
  const text = textarea.value;
  const total = text.length;
  const chinese = text.match(/[\u4e00-\u9fa5]/g)?.length || 0;
  const punctuation = text.match(/[^\u4e00-\u9fa5\w]/g)?.length || 0;
  const alphabet = text.match(/[a-zA-Z]/g)?.length || 0;
  const numbers = text.match(/\d/g)?.length || 0;

  totalEl.textContent = `总数：${total}`;
  chineseEl.textContent = `汉字：${chinese}`;
  punctuationEl.textContent = `标点：${punctuation}`;
  alphabetEl.textContent = `字母：${alphabet}`;
  numbersEl.textContent = `数字：${numbers}`;
}

function clearTextarea() {
  textarea.value = "";
  updateStats();
}

// 去重处理
function removeDuplicates() {
  const text = textarea.value;
  const textList = text.split("\n"); // 假设文本项以换行符分隔
  
  const uniqueList = [...new Set(textList)];
  const duplicateCount = textList.length - uniqueList.length;
  duplicateEl.textContent = `重复：${duplicateCount}`;
  
  textarea.value = uniqueList.join("\n"); // 更新文本框内容
  updateStats(); // 更新统计信息
}

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById("preserve-matches-btn").addEventListener("click", function() {
        const searchValue = document.getElementById("search-input").value;
        const text = document.getElementById("textarea").value;
        
        try {
            const regex = new RegExp(searchValue, 'g');
            let matches = text.match(regex);

            // 只有当找到匹配项时，才更新文本区域的内容
            if (matches && matches.length > 0) {
                // 将匹配到的内容保留，并用换行符连接成新的字符串
                const newText = matches.join("\n");
                document.getElementById("textarea").value = newText;

                // 更新匹配项数量显示
                updateRegexReplaceCount(matches.length);
            } else {
                // 如果没有找到匹配项，则不清空文本区域，可能需要给用户一些反馈
                console.log("没有找到匹配项。");
                // 保持匹配项数量显示为0
                updateRegexReplaceCount(0);
            }
        } catch (e) {
            alert("正则表达式有误: " + e.message);
        }
    });
});

function updateRegexReplaceCount(matchCount) {
    document.getElementById("regex-replace-count").textContent = `正则：${matchCount}`;
}


function replaceText() {
    const searchValue = searchInput.value;
    const replaceValue = replaceInput.value;
    const text = textarea.value;

    if (searchValue !== "") {
        const matches = text.match(new RegExp(searchValue, 'g'));
        const replaceCount = matches ? matches.length : 0; // 计算匹配项的次数

        const newText = text.replaceAll(searchValue, replaceValue);
        document.getElementById("replace-count").textContent = `替换：${replaceCount}`;
        textarea.value = newText;
        updateStats();
    }
}

        function replaceTextUsingRegex() {
            const searchValue = searchInput.value;
            const replaceValue = replaceInput.value;
            const text = textarea.value;

            if (searchValue !== "") {
                let newText;
                let matchCount = (text.match(new RegExp(searchValue, 'g')) || []).length;
                try {
                    newText = text.replace(new RegExp(searchValue, 'g'), replaceValue);
                } catch (e) {
                    alert("正则表达式有误: " + e.message);
                    return;
                }
                document.getElementById("regex-replace-count").textContent = `正则：${matchCount}`;
                textarea.value = newText;
                updateStats();
            }
        }

        document.getElementById('api_key').addEventListener('blur', function() {
    var value = this.value.trim();
    if (!value) {
        console.log("使用placeholder值作为默认值: " + this.placeholder);
    } else {
        console.log("用户输入的值: " + value);
    }
});

let apiUrl = ""; // 初始化为空

document.getElementById("openkey-btn").addEventListener("click", function() {
    apiUrl = this.getAttribute("data-api-url");
    testAPI(); // 调用API测试函数
});

function testAPI() {
    if (!apiUrl) {
        alert("请选择一个API URL");
        return;
    }

    const inputField = document.getElementById('api_key');
    const originalInput = document.getElementById('textarea') ? document.getElementById('textarea').value : '';
    if (document.getElementById('textarea')) {
        document.getElementById('textarea').value = "请稍后...";
    }
    // 如果输入框为空，则使用placeholder的值；如果不为空，则使用用户输入的值
    const apiKey = inputField.value.trim() || inputField.placeholder;

    const data = {
        model: "gpt-4o-mini",
        messages: [
            { role: "system", content: "You are a helpful assistant." },
            { role: "user", content: originalInput }
        ]
    };

    const xhr = new XMLHttpRequest();
    xhr.open("POST", apiUrl, true);
    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.setRequestHeader("Authorization", `Bearer ${apiKey}`);

    xhr.onreadystatechange = function() {
        if (this.readyState === XMLHttpRequest.DONE) {
            if (this.status === 200) {
                const response = JSON.parse(this.responseText);
                if (document.getElementById('textarea')) {
                    document.getElementById('textarea').value = response.choices[0].message.content;
                }
                // updateStats(); // 更新统计信息，根据需要启用
            } else {
                if (document.getElementById('textarea')) {
                    document.getElementById('textarea').value = "请求失败，请检查您的API密钥和其他设置。";
                }
            }
        }
    };

    xhr.send(JSON.stringify(data));
}	
	copyBtn.addEventListener("click", function() {
    let textToCopy;
    if (textarea.value === "") {
        // 按行分割占位符，然后用换行符连接
        textToCopy = textarea2.getAttribute("placeholder").split("*").join("*\n");
    } else {
        textToCopy = textarea2.value;
    }
    
    const tempInput = document.createElement("textarea"); // 使用文本区域代替输入来支持多行
    document.body.appendChild(tempInput);
    tempInput.value = textToCopy;
    tempInput.select();
    document.execCommand("copy");
    document.body.removeChild(tempInput);
    //alert("文本已复制到剪贴板!");
});
const pasteBtn = document.getElementById("paste-btn");

pasteBtn.addEventListener("click", function() {
    navigator.clipboard.readText()
    .then(clipText => {
        textarea.value = clipText;
        updateStats();
        //alert("文本已从剪贴板粘贴!");
    }).catch(err => {
        //alert('粘贴失败：' + err);
    });
});
</script>
<script>
    function formatHTML(input) {
        let formatted = '';
        let pad = 0;
        const tags = ['<p>', '</p>', '<div>', '</div>', '<span>', '</span>', '<br>', '<br/>']; // 这只是一个简化的标签列表，你可以添加更多的标签

        input.split(/\r?\n/).forEach(line => {
            let indent = 0;

            tags.forEach(tag => {
                if (line.includes(tag)) {
                    if (tag.startsWith('</')) {
                        pad -= 1;
                    }
                }
            });

            for (let i = 0; i < pad; i++) {
                indent += 4;
            }

            formatted += ' '.repeat(indent) + line.trim() + '\n';

            tags.forEach(tag => {
                if (line.includes(tag)) {
                    if (!tag.startsWith('</')) {
                        pad += 1;
                    }
                }
            });
        });

        return formatted;
    }

    function formatAndPreview() {
        const code = document.getElementById('textarea').value;
        const formattedCode = formatHTML(code);
        document.getElementById('textarea').value = formattedCode;
        
        const newWindow = window.open("", "Preview Window", "width=600,height=600");
        newWindow.document.write(code);
        newWindow.document.close();
    }
</script>
<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"JRHGRBPWC7lJIaXq",ck:"JRHGRBPWC7lJIaXq"})</script>
</body></html>
